---
title: O que é um closure e como/por que você usaria um?
---

## Compreendendo Closures em JavaScript

Em JavaScript, um closure é uma função que captura o escopo léxico no qual foi declarada, permitindo que ela acesse e manipule variáveis de um escopo externo mesmo depois que esse escopo foi fechado.

Aqui está como os closures funcionam:

1. **Escopo léxico**: JavaScript utiliza o escopo léxico, o que significa que o acesso de uma função às variáveis é determinado pela sua localização física no código-fonte.
1. **Criação de função**: Quando uma função é criada, ela mantém uma referência ao seu escopo léxico. Este escopo contém todas as variáveis locais que estavam em escopo no momento em que o closure foi criado.
1. **Manutenção de estado**: Closures são frequentemente usados para manter o estado de uma forma segura, porque as variáveis capturadas pelo closure não são acessíveis fora da função.

Sintaxe do ES6 e closures

Com o ES6, closures podem ser criados usando funções de seta (arrow functions), que proporcionam uma sintaxe mais concisa e vinculam lexicalmente o valor de `this`. Aqui está um exemplo:

```js
const criarContador = () => {
  let contador = 0;
  return () => {
    contador += 1;
    return contador;
  };
};

const contador = criarContador();
console.log(contador()); // Saída: 1
console.log(contador()); // Saída: 2
```

## Por que usar closures?

1. **Encapsulamento de dados**: Closures fornecem uma maneira de criar variáveis e funções privadas que não podem ser acessadas fora do closure. Isso é útil para ocultar detalhes de implementação e manter o estado de forma encapsulada.
1. **Programação funcional**: Closures são fundamentais em paradigmas de programação funcional, onde são usados para criar funções que podem ser passadas e invocadas posteriormente, mantendo o acesso ao escopo em que foram criadas, por exemplo, [aplicações parciais ou currying](https://medium.com/javascript-scene/curry-or-partial-application-8150044c78b8#.l4b6l1i3x).
1. **Manipuladores de eventos e callbacks**: Em JavaScript, closures são frequentemente usados em manipuladores de eventos e callbacks para manter o estado ou acessar variáveis que estavam em escopo quando o manipulador ou callback foi definido.
1. **Padrões de módulo**: Closures permitem o uso do [padrão de módulo](https://www.patterns.dev/vanilla/module-pattern) em JavaScript, possibilitando a criação de módulos com partes privadas e públicas.
